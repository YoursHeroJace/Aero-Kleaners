<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Club Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
<style>
/* ---------------- RESET ---------------- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: 'Roboto', sans-serif;
}

body {
    background: #f4f7fb;
    color: #333;
    display: flex;
    height: 100vh;
    overflow: hidden;
}

button {
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    opacity: 0.85;
}

/* ---------------- SIDEBAR ---------------- */
.sidebar {
    width: 250px;
    background: #1e1e2f;
    color: #fff;
    padding: 20px;
    display: flex;
    flex-direction: column;
}

.sidebar h2 {
    margin-bottom: 20px;
    text-align: center;
    color: #0ff;
}

.sidebar button {
    background: #2a2a40;
    color: #fff;
    border: none;
    padding: 12px 10px;
    margin-bottom: 10px;
    border-radius: 8px;
    text-align: left;
    font-weight: 500;
}

.sidebar button.logout {
    margin-top: auto;
    background: #ff3864;
    color: #fff;
    font-weight: 700;
}

.sidebar button.logout:hover {
    background: #ff1f4b;
}

/* ---------------- MAIN CONTENT ---------------- */
.main {
    flex: 1;
    overflow-y: auto;
    padding: 25px;
    background: #f4f7fb;
}

.main h1 {
    margin-bottom: 20px;
    color: #1e1e2f;
}

.section {
    display: none;
}

/* ---------------- CARDS ---------------- */
.card {
    background: #fff;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
}

.card h3 {
    margin-bottom: 15px;
    color: #0aa;
}

/* ---------------- LISTS ---------------- */
.item-list {
    list-style: none;
    max-height: 300px;
    overflow-y: auto;
    padding-right: 5px;
}

.item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.item span {
    flex: 1;
    word-break: break-word;
}

.item a {
    margin-left: 10px;
    color: #0aa;
    text-decoration: none;
}

.item a:hover {
    text-decoration: underline;
}

/* ---------------- BUTTONS ---------------- */
.icon-btn {
    background: #ff3864;
    color: #fff;
    border: none;
    padding: 5px 10px;
    border-radius: 6px;
    font-weight: 500;
}

.icon-btn:hover {
    background: #ff1f4b;
}

.add-btn {
    background: #0aa;
    color: #fff;
    border: none;
    padding: 10px 15px;
    border-radius: 8px;
    margin-top: 5px;
}

.add-btn:hover {
    background: #078;
}

/* ---------------- FORMS ---------------- */
input, textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ccc;
    border-radius: 8px;
}

input:focus, textarea:focus {
    outline: none;
    border-color: #0aa;
    box-shadow: 0 0 5px rgba(0,170,255,0.3);
}
</style>
</head>
<body>

<!-- ---------------- SIDEBAR ---------------- -->
<div class="sidebar">
    <h2>Club Panel</h2>
    <button onclick="showSection('dashboard')">Dashboard</button>
    <button onclick="showSection('meetings')">Meetings</button>
    <button onclick="showSection('sessions')">Sessions</button>
    <button onclick="showSection('documents')">Documents</button>
    <button onclick="showSection('recent')">Recent Activity</button>
    <button onclick="showSection('other')">Other Info</button>
    <button onclick="showSection('members')">Add Members</button>
    <button class="logout" onclick="logout()">Logout</button>
</div>

<!-- ---------------- MAIN CONTENT ---------------- -->
<div class="main">

    <h1>Welcome, <span id="userName">Member</span>!</h1>

    <!-- ---------------- DASHBOARD ---------------- -->
    <div class="section" id="dashboard">
        <div class="card">
            <h3>Quick Stats</h3>
            <p>Total Members: <span id="totalMembers">0</span></p>
            <p>Upcoming Meetings: <span id="totalMeetings">0</span></p>
            <p>Active Sessions: <span id="totalSessions">0</span></p>
        </div>
    </div>

    <!-- ---------------- MEETINGS ---------------- -->
    <div class="section" id="meetings">
        <div class="card">
            <h3>Meetings</h3>
            <ul class="item-list" id="meetingsList">
                <!-- Injected meeting items -->
            </ul>

            <!-- Admin create meeting -->
            <div id="adminMeetingForm">
                <input type="text" id="meetingTitle" placeholder="Meeting Title">
                <input type="date" id="meetingDate">
                <input type="time" id="meetingTime">
                <input type="text" id="meetingLocation" placeholder="Location">
                <input type="text" id="meetingLink" placeholder="Meeting Link">
                <textarea id="meetingDesc" placeholder="Description"></textarea>
                <button class="add-btn" onclick="addMeeting()">Add Meeting</button>
            </div>
        </div>
    </div>

    <!-- ---------------- SESSIONS ---------------- -->
    <div class="section" id="sessions">
        <div class="card">
            <h3>Sessions</h3>
            <ul class="item-list" id="sessionsList">
                <!-- Injected sessions -->
            </ul>

            <!-- Admin create session -->
            <div id="adminSessionForm">
                <input type="text" id="sessionName" placeholder="Session Name">
                <input type="date" id="sessionDate">
                <input type="text" id="sessionHost" placeholder="Host">
                <button class="add-btn" onclick="addSession()">Add Session</button>
            </div>
        </div>
    </div>

    <!-- ---------------- DOCUMENTS ---------------- -->
    <div class="section" id="documents">
        <div class="card">
            <h3>Documents</h3>
            <ul class="item-list" id="documentsList">
                <!-- Injected documents -->
            </ul>

            <!-- Admin post document -->
            <div id="adminDocForm">
                <input type="text" id="docTitle" placeholder="Document Title">
                <input type="url" id="docLink" placeholder="Document Link">
                <button class="add-btn" onclick="addDocument()">Post Document</button>
            </div>
        </div>
    </div>

    <!-- ---------------- RECENT ACTIVITY ---------------- -->
    <div class="section" id="recent">
        <div class="card">
            <h3>Recent Activity</h3>
            <ul class="item-list" id="recentList">
                <!-- Injected recent activity -->
            </ul>

            <div id="adminRecentForm">
                <input type="text" id="recentText" placeholder="Activity text">
                <button class="add-btn" onclick="addRecent()">Add Activity</button>
            </div>
        </div>
    </div>

    <!-- ---------------- OTHER INFO ---------------- -->
    <div class="section" id="other">
        <div class="card">
            <h3>Other Information</h3>
            <ul class="item-list" id="otherList">
                <!-- Injected items -->
            </ul>

            <div id="adminOtherForm">
                <input type="text" id="otherText" placeholder="Info text">
                <button class="add-btn" onclick="addOther()">Post Info</button>
            </div>
        </div>
    </div>

    <!-- ---------------- MEMBERS ---------------- -->
    <div class="section" id="members">
        <div class="card">
            <h3>Add Members (Admin Only)</h3>
            <input type="text" id="newMemberName" placeholder="Member Name">
            <input type="text" id="newMemberPhone" placeholder="Phone Number">
            <button class="add-btn" onclick="addMember()">Add Member</button>
        </div>
    </div>

</div>

<script>
/* ---------------- USERS ---------------- */
const users = [
    {username:"9818523773", password:"69125", name:"Dhruv"},
    {username:"9461738616", password:"10382", name:"Harshit Panwar"},
    {username:"8368992775", password:"93517", name:"Shahil Shivam"},
    {username:"9654579176", password:"37591", name:"Nirvan Sharma"},
];

let currentUser = sessionStorage.getItem('name') || "Guest";
const admins = ["Dhruv","Harshit Panwar","Shahil Shivam"];

/* ---------------- INIT ---------------- */
document.getElementById('userName').innerText = currentUser;

/* ---------------- SECTIONS ---------------- */
function showSection(id){
    document.querySelectorAll('.section').forEach(sec => sec.style.display='none');
    document.getElementById(id).style.display='block';

    // Admin forms visibility
    const isAdmin = admins.includes(currentUser);
    document.querySelectorAll('#adminMeetingForm, #adminSessionForm, #adminDocForm, #adminRecentForm, #adminOtherForm, #members').forEach(f=>{
        f.style.display = isAdmin ? 'block' : 'none';
    });
}

/* ---------------- LOGOUT ---------------- */
function logout(){
    sessionStorage.removeItem('loggedIn');
    sessionStorage.removeItem('name');
    window.location.href = 'login.html';
}

/* ---------------- DUMMY DATA ---------------- */
let meetings = [];
let sessions = [];
let documents = [];
let recentActivity = [];
let otherInfo = [];
let members = [];

/* ---------------- ADD FUNCTIONS ---------------- */
function addMeeting(){
    const title = document.getElementById('meetingTitle').value;
    const date = document.getElementById('meetingDate').value;
    const time = document.getElementById('meetingTime').value;
    const loc = document.getElementById('meetingLocation').value;
    const link = document.getElementById('meetingLink').value;
    const desc = document.getElementById('meetingDesc').value;

    meetings.push({title,date,time,loc,link,desc});
    renderMeetings();
}

function renderMeetings(){
    const list = document.getElementById('meetingsList');
    list.innerHTML = "";
    meetings.forEach((m,i)=>{
        const li = document.createElement('li');
        li.className="item";
        li.innerHTML = `<span>${m.title} (${m.date} ${m.time}) - <a href="${m.link}" target="_blank">${m.link}</a></span>`;
        if(admins.includes(currentUser)){
            const delBtn = document.createElement('button');
            delBtn.className="icon-btn";
            delBtn.innerText="Delete";
            delBtn.onclick = ()=>{ meetings.splice(i,1); renderMeetings(); };
            li.appendChild(delBtn);
        }
        list.appendChild(li);
    });
}

/* ---------------- SIMILAR FUNCTIONS FOR SESSIONS, DOCUMENTS, RECENT, OTHER, MEMBERS ---------------- */
function addSession(){
    const name = document.getElementById('sessionName').value;
    const date = document.getElementById('sessionDate').value;
    const host = document.getElementById('sessionHost').value;
    sessions.push({name,date,host});
    renderSessions();
}

function renderSessions(){
    const list = document.getElementById('sessionsList');
    list.innerHTML="";
    sessions.forEach((s,i)=>{
        const li = document.createElement('li');
        li.className="item";
        li.innerText = `${s.name} (${s.date}) by ${s.host}`;
        if(admins.includes(currentUser)){
            const delBtn = document.createElement('button');
            delBtn.className="icon-btn";
            delBtn.innerText="Delete";
            delBtn.onclick = ()=>{ sessions.splice(i,1); renderSessions(); };
            li.appendChild(delBtn);
        }
        list.appendChild(li);
    });
}

function addDocument(){
    const title = document.getElementById('docTitle').value;
    const link = document.getElementById('docLink').value;
    documents.push({title,link});
    renderDocuments();
}

function renderDocuments(){
    const list = document.getElementById('documentsList');
    list.innerHTML="";
    documents.forEach((d,i)=>{
        const li = document.createElement('li');
        li.className="item";
        li.innerHTML=`<a href="${d.link}" target="_blank">${d.title}</a>`;
        if(admins.includes(currentUser)){
            const delBtn = document.createElement('button');
            delBtn.className="icon-btn";
            delBtn.innerText="Delete";
            delBtn.onclick = ()=>{ documents.splice(i,1); renderDocuments(); };
            li.appendChild(delBtn);
        }
        list.appendChild(li);
    });
}

function addRecent(){
    const text = document.getElementById('recentText').value;
    recentActivity.push(text);
    renderRecent();
}

function renderRecent(){
    const list = document.getElementById('recentList');
    list.innerHTML="";
    recentActivity.forEach((r,i)=>{
        const li=document.createElement('li');
        li.className="item";
        li.innerText = r;
        if(admins.includes(currentUser)){
            const delBtn = document.createElement('button');
            delBtn.className="icon-btn";
            delBtn.innerText="Delete";
            delBtn.onclick = ()=>{ recentActivity.splice(i,1); renderRecent(); };
            li.appendChild(delBtn);
        }
        list.appendChild(li);
    });
}

function addOther(){
    const text = document.getElementById('otherText').value;
    otherInfo.push(text);
    renderOther();
}

function renderOther(){
    const list = document.getElementById('otherList');
    list.innerHTML="";
    otherInfo.forEach((o,i)=>{
        const li=document.createElement('li');
        li.className="item";
        li.innerText=o;
        if(admins.includes(currentUser)){
            const delBtn=document.createElement('button');
            delBtn.className="icon-btn";
            delBtn.innerText="Delete";
            delBtn.onclick=()=>{otherInfo.splice(i,1);renderOther();}
            li.appendChild(delBtn);
        }
        list.appendChild(li);
    });
}

function addMember(){
    const name = document.getElementById('newMemberName').value;
    const phone = document.getElementById('newMemberPhone').value;
    members.push({name,phone});
    alert(`Member ${name} added!`);
}

/* ---------------- INITIAL DISPLAY ---------------- */
showSection('dashboard');

</script>
</body>
</html>
